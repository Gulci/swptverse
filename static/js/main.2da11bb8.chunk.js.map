{"version":3,"sources":["components/Home.js","components/Modal.js","components/Quote.js","components/Searchbar.js","movies/index.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","movies","randQuote","getRandomQuote","line","split","length","substring","toUpperCase","state","quote","title","time","randMovie","getRandomInt","subs","sub","join","max","Math","floor","random","react_default","a","createElement","className","role","aria-labelledby","Component","Modal","show","onClose","Modal_ModalWrapper","children","ModalWrapper","visible","handleClick","bind","assertThisInitialized","handleEscPress","event","stopPropagation","key","document","addEventListener","_this2","setTimeout","setState","removeEventListener","concat","onClick","React","PureComponent","Quote","handleClickModal","showModal","purpose","clipboard","window","location","hostname","movieId","subIndex","buildCopyTextFor","handle","_this3","_this$props","context","search","jSub","index","toLowerCase","indexOf","onKeyPress","handleEsc","Modal_Modal","buildLines","map","prev","timestamp","post","id","index_es","icon","faCopy","size","faReddit","Searchbar","type","value","onChange","onSearchChange","placeholder","autoFocus","App","react_router_dom","react_router","path","component","Main","linkQuote","queryParams","URLSearchParams","indexFromUrl","parseInt","get","movieFromUrl","movie","find","e","handleSearchChange","handleAlert","buildContext","buildQuote","alert","target","start","end","slice","matches","forEach","trim","push","arguments","undefined","Quote_Quote","Searchbar_Searchbar","showSubs","Home_Home","Boolean","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2da11bb8.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport '../styles/Home.scss'\n\nclass Home extends Component {\n  getRandomQuote(movies) {\n    let randMovie = movies[this.getRandomInt(movies.length)]\n    let randQuote = randMovie.subs[this.getRandomInt(randMovie.subs.length)]\n    return {\n      title: randMovie.title,\n      line: randQuote.sub.join(' '),\n      time: randQuote.time,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    const {movies} = props\n\n    let randQuote = this.getRandomQuote(movies)\n    while (\n      randQuote.line.split(' ').length <= 4 ||\n      randQuote.line.substring(0, 1) !==\n        randQuote.line.substring(0, 1).toUpperCase()\n    ) {\n      randQuote = this.getRandomQuote(movies)\n    }\n    this.state = {\n      quote: {\n        title: randQuote.title,\n        line: randQuote.line,\n        time: randQuote.time,\n      },\n    }\n  }\n\n  getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max))\n  }\n\n  render() {\n    return (\n      <div className=\"home\">\n        <div className=\"randomQuote\">\n          <p>\n            {this.state.quote.line}{' '}\n            <i>\n              ({this.state.quote.title} {this.state.quote.time})\n            </i>\n          </p>\n        </div>\n        <div className=\"credits\">\n          made by /u/shonnyboymushi | forked with{' '}\n          <span role=\"img\" aria-labelledby=\"love\">\n            ❤️\n          </span>{' '}\n          by /u/iammario\n        </div>\n      </div>\n    )\n  }\n}\n\nexport {Home}\n","import React from 'react'\nimport '../styles/Modal.scss'\n\nexport default function Modal(props) {\n  const {show, onClose} = props\n\n  return props.show ? (\n    <ModalWrapper show={show} onClose={onClose}>\n      {props.children}\n    </ModalWrapper>\n  ) : null\n}\n\nclass ModalWrapper extends React.PureComponent {\n  constructor(props) {\n    super(props)\n\n    this.state = {visible: false}\n\n    this.handleClick = this.handleClick.bind(this)\n    this.handleEscPress = this.handleEscPress.bind(this)\n  }\n\n  handleClick(event) {\n    this.props.onClose()\n    event.stopPropagation()\n  }\n\n  handleEscPress(event) {\n    if (event.key === 'Escape') {\n      this.props.onClose()\n    }\n  }\n\n  componentWillMount() {\n    document.addEventListener('keydown', this.handleEscPress)\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({visible: true})\n    }, 10) // need timeout to async animation\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleEscPress)\n  }\n\n  render() {\n    return (\n      <div\n        className={`modalWrapper ${this.state.visible ? 'modalVisible' : ''}`}\n        onClick={this.handleClick}>\n        <div\n          className={`modal ${\n            this.state.visible ? 'modalContentVisible' : ''\n          }`}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport Modal from './Modal'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCopy} from '@fortawesome/free-solid-svg-icons'\nimport {faReddit} from '@fortawesome/free-brands-svg-icons'\n\nimport '../styles/Quote.scss'\nimport * as clipboard from 'clipboard-polyfill'\n\nclass Quote extends Component {\n  constructor(props) {\n    super(props)\n\n    this.handleClick = this.handleClick.bind(this)\n    this.handleClickModal = this.handleClickModal.bind(this)\n\n    this.state = {\n      showModal: props.showModal,\n    }\n  }\n\n  handleClick(purpose) {\n    const buildCopyTextFor = purpose => {\n      const quote = this.props.sub.join(' ')\n      switch (purpose) {\n        case 'reddit':\n          return `${quote} [(*${this.props.title} ${this.props.time}*)](https://${window.location.hostname}/swptverse/?movie=${this.props.movieId}&quoteIndex=${this.props.subIndex})`\n        default:\n          return `${quote} (${this.props.title} ${this.props.time})`\n      }\n    }\n\n    clipboard.writeText(buildCopyTextFor(purpose))\n    this.props.handle(true)\n    setTimeout(() => {\n      this.props.handle(false)\n    }, 1500)\n    this.setState({\n      showModal: false,\n    })\n  }\n\n  handleClickModal() {\n    this.setState({\n      showModal: !this.state.showModal,\n    })\n  }\n\n  render() {\n    const {sub, context, search, title, time} = this.props\n\n    const {showModal} = this.state\n\n    let jSub = sub.join(' ')\n    let index = jSub.toLowerCase().indexOf(search)\n\n    const SubWheel = props => {\n      const buildLines = subs => {\n        return subs.map((line, index) => {\n          return (\n            <li key={index}>\n              <span>{line.sub.join(' ')}</span>\n              <span>{line.time}</span>\n            </li>\n          )\n        })\n      }\n\n      return (\n        <div className=\"subWheel\">\n          <div className=\"preContextWrapper\">\n            <ul className=\"preContext\">{buildLines(props.context.prev)}</ul>\n          </div>\n          <p className=\"quoteModal\" onClick={props.onClick}>\n            <span>{props.quote.join(' ')}</span>\n            <span>\n              —{' '}\n              <i>\n                {props.title} {props.timestamp}\n              </i>\n            </span>\n          </p>\n          <div className=\"postContextWrapper\">\n            <ul className=\"postContext\">{buildLines(props.context.post)}</ul>\n          </div>\n        </div>\n      )\n    }\n\n    const ShareBar = () => {\n      return (\n        <div className={'shareBar'}>\n          <div\n            className={'shareButton'}\n            id={'textCopy'}\n            onClick={() => this.handleClick()}\n            title=\"copy to clipboard\">\n            <FontAwesomeIcon icon={faCopy} size=\"2x\" />\n          </div>\n          <div\n            className={'shareButton'}\n            id={'redditCopy'}\n            onClick={() => this.handleClick('reddit')}\n            title=\"copy with reddit markdown\">\n            <FontAwesomeIcon icon={faReddit} size=\"2x\" />\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div\n        className=\"sub\"\n        onClick={this.handleClickModal}\n        onKeyPress={this.handleEsc}>\n        <p>\n          {jSub.substring(0, index)}\n          <span className=\"highlight\">\n            {jSub.substring(index, index + search.length)}\n          </span>\n          {jSub.substring(index + search.length)}\n          &nbsp;(\n          <i>\n            {title} {time}\n          </i>\n          )\n        </p>\n        <Modal show={showModal} onClose={this.handleClickModal}>\n          <SubWheel\n            title={title}\n            context={context}\n            timestamp={time}\n            quote={sub}\n            onClick={this.handleClick}\n          />\n          <ShareBar />\n        </Modal>\n      </div>\n    )\n  }\n}\n\nexport {Quote}\n","import React from 'react'\nimport '../styles/Searchbar.scss'\nfunction Searchbar(props) {\n  return (\n    <div className=\"searchContainer\">\n      <input\n        type=\"search\"\n        value={props.value}\n        onChange={props.onSearchChange}\n        placeholder=\"Search verse\"\n        autoFocus\n      />\n    </div>\n  )\n}\n\nexport {Searchbar}\n","import * as StarWarsI from './The Phantom Menace.json'\nimport * as StarWarsII from './Attack of the Clones.json'\nimport * as StarWarsIII from './Revenge of the Sith.json'\n\nconst subs = [\n  {\n    id: 'sw1',\n    title: 'The Phantom Menace',\n    subs: StarWarsI.default,\n  },\n  {\n    id: 'sw2',\n    title: 'Attack of the Clones',\n    subs: StarWarsII.default,\n  },\n  {\n    id: 'sw3',\n    title: 'Revenge of the Sith',\n    subs: StarWarsIII.default,\n  },\n]\n\nexport default subs\n","import React, {Component} from 'react'\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport {Home, Quote, Searchbar} from './components'\nimport './App.scss'\nimport movies from './movies/index'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Route path=\"/\" component={Main} />\n      </Router>\n    )\n  }\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let linkQuote\n    try {\n      let queryParams = new URLSearchParams(props.location.search)\n      let indexFromUrl = parseInt(queryParams.get('quoteIndex'))\n      let movieFromUrl = queryParams.get('movie')\n      if (movieFromUrl && indexFromUrl) {\n        let movie = movies.find(movie => movie.id === movieFromUrl)\n        if (movie) {\n          linkQuote = {\n            movie: movie,\n            sub: movie.subs[indexFromUrl],\n            index: indexFromUrl,\n          }\n        }\n      }\n    } catch (e) {}\n\n    this.handleSearchChange = this.handleSearchChange.bind(this)\n    this.handleAlert = this.handleAlert.bind(this)\n    this.buildContext = this.buildContext.bind(this)\n    this.buildQuote = this.buildQuote.bind(this)\n\n    this.state = {\n      alert: false,\n      search: '',\n      linkQuote,\n    }\n  }\n\n  handleAlert(show) {\n    this.setState({alert: show})\n  }\n\n  handleSearchChange(event) {\n    this.setState({\n      search: event.target.value,\n      linkQuote: null,\n    })\n  }\n\n  buildContext(movie, index) {\n    const start = index - 10 >= 0 ? index - 10 : 0\n    const end = index + 10 >= movie.subs.length ? movie.subs.length : index + 10\n\n    return {\n      prev: movie.subs.slice(start, index),\n      post: movie.subs.slice(index + 1, end + 1),\n    }\n  }\n\n  showSubs() {\n    var matches = []\n    movies.forEach(movie => {\n      movie.subs.forEach((sub, index) => {\n        let strIndex = sub.sub\n          .join(' ')\n          .toLowerCase()\n          .indexOf(this.state.search.toLowerCase().trim())\n        if (strIndex >= 0) {\n          matches.push(this.buildQuote(movie, sub, index))\n        }\n      })\n    })\n    return matches\n  }\n\n  buildQuote(movie, sub, index, showModal = false) {\n    return (\n      <Quote\n        context={this.buildContext(movie, index)}\n        sub={sub.sub}\n        subIndex={index}\n        search={this.state.search.toLowerCase().trim()} //important to trim to match the actual search because highlighting calcs are based on length\n        title={movie.title}\n        movieId={movie.id}\n        time={sub.time}\n        handle={this.handleAlert}\n        index={index}\n        showModal={showModal}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {/* Credits to https://www.script-tutorials.com/night-sky-with-twinkling-stars/ */}\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n        <Searchbar\n          value={this.state.search}\n          onSearchChange={this.handleSearchChange}\n        />\n        <div\n          className={`alert ${this.state.alert ? 'alert-show' : 'alert-hide'}`}>\n          Copied to clipboard\n        </div>\n        <div className=\"body\">\n          {this.state.linkQuote ? (\n            [\n              this.buildQuote(\n                this.state.linkQuote.movie,\n                this.state.linkQuote.sub,\n                this.state.linkQuote.index,\n                true,\n              ),\n            ]\n          ) : this.state.search.length >= 3 ? (\n            this.showSubs()\n          ) : (\n            <Home movies={movies} />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}